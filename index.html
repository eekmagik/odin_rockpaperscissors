<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Rock, Paper, Scissors</title>
  </head>
  <body>

    <div class="stats">
      <p id="status"></p>
      <p id="results"></p>
      <p id="status"></p>
      <p id="playScore"></p>
      <p id="computeScore"></p>
    </div> 

    <div class="buttons">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>


    
    
    <script>
      
      const choices = ['rock', 'paper', 'scissors']; 
      const status = document.querySelector('#status');
      const results = document.querySelector('#results');
      const playScore = document.querySelector('#playerScore');
      const computeScore = document.querySelector('#computerScore');

      const buttons = document.querySelectorAll('button');
      
      buttons.forEach((button) => {
        button.addEventListener("click", function (e){
          playRound(button.id);
        });
      });

      function computerPlay() {
        return choices[Math.floor(Math.random()*3)];
      }

      let playerScore = 0;
      let computerScore = 0

      function playRound(playerSelection) {
        scorecheck(playerScore, computerScore);

        document.getElementById('playScore').textContent = 'Player Score = ' + playerScore;
        document.getElementById('computeScore').textContent = 'Computer Score = ' + computerScore;

        let computerSelection = computerPlay();
        if (computerSelection === playerSelection) {
          document.getElementById('status').textContent ='Tie! Try again.';
          document.getElementById('playScore').textContent = 'Player Score = ' + playerScore;
          document.getElementById('computeScore').textContent = 'Computer Score = ' + computerScore;

        }else if (choices.at(choices.indexOf(playerSelection) -1) === computerSelection) {
          playerScore += 1; 
          document.getElementById('status').textContent = 'Win! ' + playerSelection + ' beats ' + computerSelection; 
          document.getElementById('playScore').textContent = 'Player Score = ' + playerScore;
          document.getElementById('computeScore').textContent = 'Computer Score = ' + computerScore;
          
          scorecheck(playerScore, computerScore);
          if (playerScore === 5){
            computerScore = 0; 
            playerScore = 0;
          }
          
        }else {
          computerScore +=1;
          document.getElementById('status').textContent = 'Lose! ' + computerSelection + ' beats ' + playerSelection; 
          document.getElementById('playScore').textContent = 'Player Score = ' + playerScore;
          document.getElementById('computeScore').textContent = 'Computer Score = ' + computerScore;
          
          scorecheck(playerScore, computerScore);
          if (computerScore === 5) {
            computerScore = 0; 
            playerScore = 0;
          }
        }
      };
        
      function scorecheck(playerScore, computerScore) {
        if (computerScore === 5){
          document.getElementById('results').textContent = 'Better luck next time...'
          
          }
        else if (playerScore === 5){
          document.getElementById('results').textContent = 'You are victorious!'
          
          }
        else{
          document.getElementById('results').textContent = '';
        }
      }


      
      // function game(){
        
      //   let userScore = 0;
      //   let computerScore = 0;
        
      //   for (let i = 0; i < 100; i++) {
      //     let userInput = prompt("Choose: Rock, Paper or Scissors");
      //     let computerInput = computerPlay()
      //     console.log("Player chooses " + userInput);
      //     console.log("Computer chooses " + computerInput);
      //     if (!choices.includes(userInput)) {
      //       i--
      //       console.log(userInput + " is not an available choice")
      //     }
      //     else if (playRound(userInput,computerInput).includes('win')){
      //         userScore += 1;
      //         console.log('User wins')
      //     }else if (playRound(userInput,computerInput).includes('lose')){
      //         computerScore += 1;
      //         console.log('Computer wins')
      //     }else {
      //       console.log('A Tie!')
      //     }
      //   }
      //   console.log("Your Score: " + userScore + "\nComputer Score: " + computerScore);
      //   if (userScore === computerScore) {
      //     console.log('A draw')
      //   }else if (userScore > computerScore) {
      //     console.log('You are victorious!')
      //   }else {
      //     console.log('Better luck next time...')
      //   }
      // }

      // game()
      

      
    </script>
  </body>
</html>